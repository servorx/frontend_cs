<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="js/app.js" defer></script>
    <link rel="stylesheet" href="Css/login.css">
</head>
<body>
    <video id="bgVideo" class="bg-video" autoplay muted loop playsinline>
        <source src="images/fondo%20proyecto.mp4" type="video/mp4">
        Tu navegador no soporta el elemento de video.
    </video>
    <div class="container">
        <div class="login-card">
            <h2>Iniciar sesión</h2>
            <div id="roleSelection" class="role-selection">
                <!-- 🔒 Administrador oculto (solo visible con combinación secreta) -->
                <button class="role-button" data-role="administrador" id="adminBtn" style="display:none;">Administrador</button>

                <!-- 👇 Roles visibles -->
                <button class="role-button" data-role="cliente">Cliente</button>
                <button class="role-button" data-role="mecanico">Mecánico</button>
                <button class="role-button" data-role="proveedor">Proveedor</button>
            </div>

            <form id="loginForm" class="hidden">
                <div class="selected-role" id="selectedRole">
                    Rol: <strong id="selectedRoleName">administrador</strong>
                    <button type="button" id="changeRole" class="change-role">Cambiar</button>
                </div>

                <input type="hidden" name="role" id="roleInput" value="administrador">

                <div class="input-group">
                    <label for="username">Usuario</label>
                    <input id="username" name="username" type="text" required autocomplete="username">
                </div>

                <div class="input-group">
                    <label for="password">Contraseña</label>
                    <input id="password" name="password" type="password" required autocomplete="current-password">
                </div>
                <p class="register-row">
                    <button id="registerLink" class="register-link hidden" type="button">Registrarse</button>
                </p>

                <button type="submit" class="btn">Entrar</button>
                <p id="msg" class="msg" aria-live="polite"></p>
            </form>

            <!-- Formulario de registro (solo para cliente) -->
            <form id="registerForm" class="hidden">
                <div class="selected-role">
                    Rol: <strong id="registerRoleName">cliente</strong>
                    <button type="button" id="cancelRegister" class="change-role">Volver</button>
                </div>

                <input type="hidden" name="role" id="registerRoleInput" value="cliente">

                <div class="input-group">
                    <label for="nombre">Nombre</label>
                    <input id="nombre" name="nombre" type="text" required autocomplete="name">
                </div>

                <div class="input-group">
                    <label for="email">Email</label>
                    <input id="email" name="email" type="email" required autocomplete="email">
                </div>

                <div class="input-group">
                    <label for="passwordReg">Contraseña</label>
                    <input id="passwordReg" name="password" type="password" required autocomplete="new-password">
                </div>

                <div class="input-group">
                    <label for="telefono">Teléfono</label>
                    <input id="telefono" name="telefono" type="tel" autocomplete="tel">
                </div>

                <div class="input-group">
                    <label for="direccion">Dirección</label>
                    <input id="direccion" name="direccion" type="text" autocomplete="street-address">
                </div>

                <button type="submit" class="btn">Registrarse</button>
                <p id="regMsg" class="msg" aria-live="polite"></p>
            </form>
        </div>
    </div>

    <!-- 🕵‍♂ Script secreto para mostrar el botón de Administrador -->
    <script>
      document.addEventListener("keydown", (e) => {
        if (e.ctrlKey && e.altKey && e.key.toLowerCase() === "a") {
          const adminBtn = document.getElementById("adminBtn");
          if (adminBtn.style.display === "none") {
            adminBtn.style.display = "block";
            alert("🔓 Modo administrador habilitado");
          } else {
            adminBtn.style.display = "none";
            alert("🔒 Modo administrador oculto");
          }
        }
      });
    </script>
</body>
</html>